COOKBOOK.txt
------------
Receipes to use createsites.py
All receipes assume:
    - odoo_instances are in ~/odoo_instances and projects are in /projects
    - the alias ooin exists and brings you to ~/odoo_instances
    - you have installed all necessary python modules using
        bin/pip install -r install/requirements.text
    - you have installed everything like detailed in ~/odoo_instances/install/INSTALL.txt

recipies:
    - Ho to create the alias ooin
    - Adding a new local/global site called hugo and building it
    - List installable sites
    - List installable odoo modules
    - Installing CRM modules into existing site hugo
    - Defining a new install block using existing site hugo

Ho to create the alias ooin:
----------------------------
    the following instructions are for a debian based linux distro (like ubuntu)
    - open the file ~/.bash_aliases in a text editor
    - add the following two lines:
      # odoo
      alias  ooin="cd $HOME/odoo_instances"
    - now when you open a new terminal ooin is an alias to change into
      ~/odoo_instances

    However, when ever you run c.sh with a "create" option like -c, a set of 
    aliases is created for you. ooin and pro among them.

Adding a new local/global site called hugo and building it:
-----------------------------------------------------------
    cd ~/odoo_insances
    bin/c.sh --add-site-local -n hugo
    bin/c.sh -c -n hugo # create the site in ~/projects
    cd ~/projects/hugo/hugo
    bin/dosetup.py # ignore svn errors
    bin/buildout
    - to build a global site (one that is managed in the repository)
      just start with bin/c.sh --add-site

List installable sites:
-----------------------
  ooin        # should bring you to ~/odoo_instances
  bin/c.sh -l
  - local sites are marked with (local) after the name
    local sites are defined in sites_local.py
    They are not managed in the repository

List installable odoo modules:
------------------------------
    ooin        # should bring you to ~/odoo_instances
    bin/c.sh -lm

Installing CRM modules into existing site hugo:
-----------------------------------------------
    - open new bash terminal with ALT+CTRL+t
    ooin        # should bring you to ~/odoo_instances
    - open sites_local.py in a text editor
    - locate the list of odoo blocks to install in the site description for hugo
        it should be something like then following:
            # odoo_addons allow to install odoo base tools
            'odoo_addons' : [
                #'website builder',
                #'crm',
            ],
    - remove the # in front of 'crm'
    - save the file
    - open a second bash terminal with ALT+CTRL+t
    hugo         # should bring you to ~/projects/hugo/hugo
    bin/start_openerp # start odoo
    - in the first bash terminal execute the following. replace robert with your name
    bin/c.sh -i -I -n hugo -p admin -dbu=robert

Defining a new install block using existing site hugo:
------------------------------------------------------
    - open new bash terminal with ALT+CTRL+t
    - make sure the database of the site hugo is empty
        You have to close all programs accessing the postgres database hugo before
        you can execute the following (odoo, pg3admin ..)
    dropdb hugo
    hugo         # should bring you to ~/projects/hugo/hugo
    - start hugo, do NOT install anything
    bin/start_openerp
    - open a second bash terminal with ALT+CTRL+t
    ooin        # should bring you to ~/odoo_instances
    - prepare list of of all installed modules. We nedd this list to create a diff later
        replace robert with your name
    bin/c.sh -III -n hugo -p admin -dbu=robert
    - you can check the result with
    less .installed
    - the result should be something like:
        (204, 'report')
        (93, 'web_settings_dashboard')
        (272, 'web_planner')
        (17, 'web')
        (22, 'web_tip')
        (92, 'web_editor')
        (60, 'web_view_editor')
        (157, 'auth_crypt')
        (188, 'web_diagram')
        (196, 'web_kanban')
        (261, 'web_calendar')
        (280, 'web_kanban_gauge')
        (108, 'base')
        (39, 'base_import')
    - in your browser navigate to localhost:8069/web
        go to apps and install Project
    - with Project installed, produce a diff to the list of installed products
        a vanilla odoo provides again, replace robert with your name:
    bin/c.sh -II -n hugo -p admin -dbu=robert
    - this is the result you should get:
        'XXX' : [

            (70, 'fetchmail'),
            (122, 'resource'),
            (178, 'mail'),
            (186, 'im_odoo_support'),
            (131, 'portal'),
            (206, 'auth_signup'),
            (252, 'product'),
            (24, 'analytic'),
            (112, 'decimal_precision'),
            (198, 'project'),
            (173, 'bus'),
            (232, 'base_setup'),
            (278, 'procurement'),
            (269, 'mail_tip'),
        ],
    - add this block to templates/install_blocks.py
        replace 'XXX' with 'projects' or what ever odoo module you installed.
        Make sure that the file remains a valid python script.
    - test your work with:
    bin/c.sh -lm
